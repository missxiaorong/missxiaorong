<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Missxiaorong's home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/jquery.masonry.min.js"></script>
    <script type="text/javascript" src="../js/jquery.lazyload.min.js"></script>
    <script type="text/javascript" src="../js/blocksit.min.js"></script>

    <style>

        .container-fluid {
            padding: 0px;

        }
        .box {
            margin-bottom: 20px;
            float: left;
            width: 220px;
        }
        .box img {
            max-width: 100%
        }

    </style>
    <script type="text/javascript">
        $(function() {
            f_masonry();
            $("img").lazyload({
                effect:"fadeIn", //淡出效果
                failurelimit:40,
                load:f_masonry,

            });
            $(".box").animate({width:220},"slow")
            $(".box").fadeIn(300);
            function f_masonry() {
                $('#masonry #load').masonry({
                    gutterWidth: 10,
                    itemSelector: '.box',
                    isAnimated: true
                });
            }
            $(window).scroll(function () {
                // 当滚动到最底部以上50像素时， 加载新内容
                if ($(document).height() - $(this).scrollTop() - $(this).height() < 50) {
                    $('#masonry').append($("#load").html());
                    $('#masonry').BlocksIt({
                        numOfCol:6,
                        offsetX: 8,
                        offsetY: 8
                    });
                    $("img").lazyload();
                }
            });
        });
    </script>
</head>
<body>

<div id="masonry" class="container-fluid">
    <div class="box"><img src="loading.gif" data-original="../images/4.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/3.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/2.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/1.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/5.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/6.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/7.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/8.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/9.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/10.jpg" /></div>

 <div id="load" style="display: none;">
    <div class="box"><img src="loading.gif" data-original="../images/4.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/3.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/2.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/1.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/5.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/6.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/7.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/8.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/9.jpg" /></div>
    <div class="box"><img src="loading.gif" data-original="../images/10.jpg" /></div>


</div>


</div>

</body>
<script>

</script>
</html>
